<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Temperature Converter Website using html, css & JavaScript</title>
    <!-- css link -->
    <link rel="stylesheet" href="css/style.css" />

    <!-- box icons -->
    <link rel="stylesheet"
  href="https://unpkg.com/boxicons@latest/css/boxicons.min.css">

      <!-- font awesome -->
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

  </head>
  <body>
    <div class="container">
        <div class="temperature-converter">
            <div class="mobile">
                <p class="time">11:44 AM</p>
                <div>
                    <i class='bx bx-signal-4'></i>
                    <i class='bx bx-wifi' ></i>
                    <i class='bx bxs-battery' ></i>
                </div>
            </div>

            <h1 class="title">Temperature Converter</h1>

            <div class="result">
              <span class="result-heading">Result</span>
              <h2 class="celsius-value" id="celsius"></h2>
            </div>

            <!-- input field -->
            <div class="degree-type">
                <!-- for degrees -->
              <div class="degree-field">
                <label for="degree">Degrees</label>
                <input type="number" name="degree" id="degree" />
              </div>

              <!-- for option selection -->
              <div class="temp-field">
                <label for="temp-type">Type</label>
                <select name="temperatures" id="temp-type" autocomplete="on">
                  <option id="fahrenheit" value="fahrenheit">Fahrenheit</option>
                  <option id="celsius" value="celsius">Celsius</option>
                </select>
              </div>
            </div>
            <button id="convert-btn">Convert</button>
            
        </div>
    </div>

    <script>
        
const celsiusField = document.querySelector("#celsius");
const degree = document.querySelector("#degree");
const convertBtn = document.querySelector("#convert-btn");
const tempType = document.querySelector("#temp-type");

window.addEventListener("load", () => {
  degree.value = "";
  celsiusField.innerHTML = "";
});

if(degree.value === ""){
  convertBtn.setAttribute("disabled","");
  setTimeout(() => {
    convertBtn.removeAttribute('disabled');
  }, 4000);
}


convertBtn.addEventListener("click", (e) => {
  e.preventDefault();
  convertToCelsius();
  convertBtn.innerHTML = "<span class='icon'><i class='fa fa-spinner fa-spin'></i> Converting...</span>";
  setTimeout(() => {
    convertBtn.innerHTML ="<span>Convert</span>"
  }, 1000);
});

function convertToCelsius() {
  let inputValue = degree.value;
  
  setTimeout( () => {
    if (tempType.value === "fahrenheit") {
      const FahrenheitToCelsius = (inputValue - 32) * (5 / 9);
      celsiusField.innerHTML = `${FahrenheitToCelsius.toFixed(3)} &deg;c`;
    } else if (tempType.value === "celsius") {
      const CelsiusToFarenheit = (inputValue*(9/5))+32;
      celsiusField.innerHTML = `${CelsiusToFarenheit.toFixed(3)} &deg;F`;
    }
  }, 1200)
}
    </script>
  </body>
</html>